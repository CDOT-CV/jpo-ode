{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "type": "object",
    "properties": {
        "metadata": {
            "$ref": "#/$defs/OdeTimMetadata"
        },
        "payload": {
            "$ref": "#/$defs/OdeTimPayload"
        }
    },
    "additionalProperties": false,
    "required": [
        "metadata",
        "payload"
    ],
    "$defs": {
        "OdeTimMetadata": {
            "type": "object",
            "properties": {
                "logFileName": {
                    "type": "string"
                },
                "maxDurationTime": {
                    "type": "number"
                },
                "odePacketID": {
                    "type": "string"
                },
                "odeReceivedAt": {
                    "type": "string"
                },
                "odeTimStartDateTime": {
                    "type": "string"
                },
                "originIp": {
                    "type": "string"
                },
                "payloadType": {
                    "type": "string"
                },
                "receivedMessageDetails": {
                    "type": "object",
                    "properties": {
                        "rxSource": {
                            "type": "string"
                        }
                    }
                },
                "recordGeneratedAt": {
                    "type": "string"
                },
                "recordGeneratedBy": {
                    "$ref": "#/$defs/OdeRecordGeneratedBy"
                },
                "recordType": {
                    "type": "string"
                },
                "sanitized": {
                    "type": "boolean"
                },
                "schemaVersion": {
                    "type": "number"
                },
                "securityResultCode": {
                    "type": "string"
                },
                "serialId": {
                    "$ref": "#/$defs/OdeSerialId"
                },
                "asn1": {
                    "type": "string"
                },
                "request": {
                    "$ref": "#/$defs/MetadataRequest"
                }
            },
            "required": [
                "schemaVersion",
                "recordGeneratedBy",
                "payloadType",
                "odePacketID",
                "serialId",
                "sanitized",
                "recordGeneratedAt",
                "maxDurationTime",
                "odeReceivedAt"
            ]
        },
        "MetadataRequest": {
            "type": "object",
            "properties": {
                "ode": {
                    "$ref": "#/$defs/RequestOde"
                },
                "sdw": {
                    "$ref": "#/$defs/RequestSdw"
                },
                "rsus": {
                    "type": "object",
                    "properties": {
                        "rsus": {
                            "oneOf": [
                                {
                                    "type": "array",
                                    "prefixItems": [
                                        {
                                            "$ref": "#/$defs/RequestRsus"
                                        }
                                    ]
                                },
                                {
                                    "$ref": "#/$defs/RequestRsus"
                                }
                            ]
                        }
                    },
                    "required": [
                        "rsus"
                    ]
                },
                "snmp": {
                    "$ref": "#/$defs/RequestSnmp"
                }
            }
        },
        "RequestOde": {
            "type": "object",
            "properties": {
                "verb": {
                    "type": "string"
                },
                "version": {
                    "type": "string"
                }
            },
            "required": [
                "verb",
                "version"
            ]
        },
        "RequestSdw": {
            "type": "object",
            "properties": {
                "serviceRegion": {
                    "$ref": "#/$defs/OdeGeoRegion"
                },
                "ttl": {
                    "type": "string",
                    "enum": [
                        "oneminute",
                        "thirtyminutes",
                        "oneday",
                        "oneweek",
                        "onemonth",
                        "oneyear"
                    ]
                },
                "groupID": {
                    "type": "string"
                },
                "deliverystart": {
                    "type": "string"
                },
                "deliverystop": {
                    "type": "string"
                },
                "recordId": {
                    "type": "string"
                },
                "estimatedRemovalDate": {
                    "type": "string"
                }
            },
            "required": [
                "recordId",
                "ttl",
                "serviceRegion"
            ]
        },
        "RequestRsus": {
            "type": "object",
            "properties": {
                "rsuTarget": {
                    "type": "string"
                },
                "rsuUsername": {
                    "type": "string"
                },
                "rsuPassword": {
                    "type": "string"
                },
                "snmpProtocol": {
                    "type": "string"
                },
                "rsuRetries": {
                    "type": "string"
                },
                "rsuTimeout": {
                    "type": "string"
                },
                "rsuIndex": {
                    "type": "string"
                }
            },
            "required": [
                "rsuTarget",
                "rsuUsername",
                "rsuPassword",
                "snmpProtocol",
                "rsuRetries",
                "rsuTimeout",
                "rsuIndex"
            ]
        },
        "RequestSnmp": {
            "type": "object",
            "properties": {
                "mode": {
                    "type": "string"
                },
                "deliverystop": {
                    "type": "string"
                },
                "rsuid": {
                    "type": "string"
                },
                "deliverystart": {
                    "type": "string"
                },
                "enable": {
                    "type": "string"
                },
                "channel": {
                    "type": "string"
                },
                "msgid": {
                    "type": "string"
                },
                "interval": {
                    "type": "string"
                },
                "status": {
                    "type": "string"
                }
            },
            "required": [
                "mode",
                "deliverystart",
                "deliverystop",
                "rsuid",
                "enable",
                "channel",
                "msgid",
                "interval",
                "status"
            ]
        },
        "OdeGeoRegion": {
            "type": "object",
            "properties": {
                "nwCorner": {
                    "$ref": "#/$defs/OdePosition3D"
                },
                "seCorner": {
                    "$ref": "#/$defs/OdePosition3D"
                }
            },
            "required": [
                "nwCorner",
                "seCorner"
            ]
        },
        "OdeRecordGeneratedBy": {
            "type": [
                "string",
                "null"
            ],
            "enum": [
                "TMC",
                "OBU",
                "RSU",
                "TMC_VIA_SAT",
                "TMC_VIA_SNMP",
                "UNKNOWN",
                null
            ]
        },
        "OdeSerialId": {
            "type": "object",
            "properties": {
                "bundleId": {
                    "type": "number"
                },
                "bundleSize": {
                    "type": "number"
                },
                "recordId": {
                    "type": "number"
                },
                "serialNumber": {
                    "type": "number"
                },
                "streamId": {
                    "type": "string"
                }
            },
            "required": [
                "recordId",
                "serialNumber",
                "streamId",
                "bundleSize",
                "bundleId"
            ]
        },
        "OdeTimPayload": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "#/$defs/J2735Tim"
                },
                "dataType": {
                    "type": "string"
                }
            },
            "required": [
                "data",
                "dataType"
            ]
        },
        "J2735Tim": {
            "type": "object",
            "properties": {
                "timeStamp": {
                    "type": "string"
                },
                "packetID": {
                    "type": "string"
                },
                "urlB": {
                    "type": "string"
                },
                "dataFrames": {
                    "type": "array",
                    "prefixItems": [
                        {
                            "$ref": "#/$defs/J2735TravelerDataFrame"
                        }
                    ]
                },
                "msgCnt": {
                    "type": "string"
                }
            },
            "required": [
                "dataFrames",
                "msgCnt"
            ]
        },
        "J2735TravelerDataFrame": {
            "type": "object",
            "properties": {
                "notUsed": {
                    "type": "string"
                },
                "frameType": {
                    "enum": [
                        "unknown",
                        "advisory",
                        "roadSignage",
                        "commercialSignage"
                    ]
                },
                "msgId": {
                    "oneOf": [
                        {
                            "type": "object",
                            "properties": {
                                "furtherInfoID": {
                                    "type": "string"
                                }
                            },
                            "required": [
                                "furtherInfoID"
                            ]
                        },
                        {
                            "$ref": "#/$defs/J2735DF_MsgId_RoadSignId"
                        }
                    ]
                },
                "startYear": {
                    "type": "string"
                },
                "startTime": {
                    "type": "string"
                },
                "durationTime": {
                    "type": "string"
                },
                "priority": {
                    "type": "string"
                },
                "notUsed1": {
                    "type": "string"
                },
                "regions": {
                    "type": "array",
                    "prefixItems": [
                        {
                            "$ref": "#/$defs/J2735DF_GeographicalPath"
                        }
                    ]
                },
                "notUsed2": {
                    "type": "string"
                },
                "notUsed3": {
                    "type": "string"
                },
                "content": {
                    "$ref": "#/$defs/J2735DF_Content"
                },
                "url": {
                    "type": "string"
                }
            },
            "required": [
                "notUsed",
                "frameType",
                "msgId",
                "startTime",
                "durationTime",
                "priority",
                "notUsed1",
                "regions",
                "notUsed2",
                "notUsed3",
                "content"
            ]
        },
        "J2735DF_MsgId_RoadSignId": {
            "type": "object",
            "properties": {
                "roadSignID": {
                    "type": "object",
                    "properties": {
                        "position": {
                            "$ref": "#/$defs/OdePosition3D"
                        },
                        "viewAngle": {
                            "type": "string"
                        },
                        "mutcdCode": {
                            "enum": [
                                "none",
                                "regulatory",
                                "warning",
                                "maintenance",
                                "motoristService",
                                "guide",
                                "rec"
                            ]
                        }
                    },
                    "required": [
                        "position",
                        "viewAngle"
                    ]
                }
            },
            "required": [
                "roadSignID"
            ]
        },
        "J2735DF_GeographicalPath": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "id": {
                    "$ref": "#/$defs/J2735RoadSegmentReferenceID"
                },
                "anchor": {
                    "$ref": "#/$defs/OdePosition3D"
                },
                "laneWidth": {
                    "type": "number"
                },
                "directionality": {
                    "enum": [
                        "unavailable",
                        "forward",
                        "reverse",
                        "both"
                    ]
                },
                "closedPath": {
                    "type": "boolean"
                },
                "direction": {
                    "type": "string"
                },
                "description": {
                    "$ref": "#/$defs/J2735DF_Regions_Description"
                }
            },
            "required": [
                "description"
            ]
        },
        "J2735DF_Regions_Description": {
            "oneOf": [
                {
                    "type": "object",
                    "properties": {
                        "path": {
                            "$ref": "#/$defs/J2735OffsetSystem"
                        }
                    },
                    "required": [
                        "path"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "geometry": {
                            "$ref": "#/$defs/J2735GeometricProjection"
                        }
                    },
                    "required": [
                        "geometry"
                    ]
                }
            ]
        },
        "J2735OffsetSystem": {
            "type": "object",
            "properties": {
                "scale": {
                    "type": "number"
                },
                "offset": {
                    "oneOf": [
                        {
                            "type": "object",
                            "properties": {
                                "xy": {
                                    "$ref": "#/$defs/J2735NodeListXY"
                                }
                            },
                            "required": [
                                "xy"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "ll": {
                                    "$ref": "#/$defs/J2735NodeListLL"
                                }
                            },
                            "required": [
                                "ll"
                            ]
                        }
                    ]
                }
            },
            "required": [
                "offset"
            ]
        },
        "J2735NodeListXY": {
            "type": "object",
            "properties": {
                "nodes": {
                    "type": "array",
                    "prefixItems": [
                        {
                            "$ref": "#/$defs/J2735NodeXY"
                        }
                    ]
                }
            },
            "required": [
                "nodes"
            ]
        },
        "J2735NodeListLL": {
            "type": "object",
            "properties": {
                "nodes": {
                    "type": "array",
                    "prefixItems": [
                        {
                            "$ref": "#/$defs/J2735NodeLL"
                        }
                    ]
                }
            },
            "required": [
                "nodes"
            ]
        },
        "J2735NodeXY": {
            "type": "object",
            "properties": {
                "delta": {
                    "oneOf": [
                        {
                            "type": "object",
                            "properties": {
                                "nodeXY1": {
                                    "$ref": "#/$defs/J2735NodeXYDelta"
                                }
                            },
                            "required": [
                                "nodeXY1"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "nodeXY2": {
                                    "$ref": "#/$defs/J2735NodeXYDelta"
                                }
                            },
                            "required": [
                                "nodeXY2"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "nodeXY3": {
                                    "$ref": "#/$defs/J2735NodeXYDelta"
                                }
                            },
                            "required": [
                                "nodeXY3"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "nodeXY4": {
                                    "$ref": "#/$defs/J2735NodeXYDelta"
                                }
                            },
                            "required": [
                                "nodeXY4"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "nodeXY5": {
                                    "$ref": "#/$defs/J2735NodeXYDelta"
                                }
                            },
                            "required": [
                                "nodeXY5"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "nodeXY6": {
                                    "$ref": "#/$defs/J2735NodeXYDelta"
                                }
                            },
                            "required": [
                                "nodeXY6"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "nodeLatLon": {
                                    "$ref": "#/$defs/J2735NodeLLDelta"
                                }
                            },
                            "required": [
                                "nodeLatLon"
                            ]
                        }
                    ]
                }
            },
            "required": [
                "delta"
            ]
        },
        "J2735NodeLL": {
            "type": "object",
            "properties": {
                "delta": {
                    "oneOf": [
                        {
                            "type": "object",
                            "properties": {
                                "nodeLL1": {
                                    "$ref": "#/$defs/J2735NodeLLDelta"
                                }
                            },
                            "required": [
                                "nodeLL1"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "nodeLL2": {
                                    "$ref": "#/$defs/J2735NodeLLDelta"
                                }
                            },
                            "required": [
                                "nodeLL2"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "nodeLL3": {
                                    "$ref": "#/$defs/J2735NodeLLDelta"
                                }
                            },
                            "required": [
                                "nodeLL3"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "nodeLL4": {
                                    "$ref": "#/$defs/J2735NodeLLDelta"
                                }
                            },
                            "required": [
                                "nodeLL4"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "nodeLL5": {
                                    "$ref": "#/$defs/J2735NodeLLDelta"
                                }
                            },
                            "required": [
                                "nodeLL5"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "nodeLL6": {
                                    "$ref": "#/$defs/J2735NodeLLDelta"
                                }
                            },
                            "required": [
                                "nodeLL6"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "nodeLatLon": {
                                    "$ref": "#/$defs/J2735NodeLLDelta"
                                }
                            },
                            "required": [
                                "nodeLatLon"
                            ]
                        }
                    ]
                }
            },
            "required": [
                "delta"
            ]
        },
        "J2735NodeXYDelta": {
            "type": "object",
            "properties": {
                "x": {
                    "type": "number"
                },
                "y": {
                    "type": "number"
                }
            },
            "required": [
                "x",
                "y"
            ]
        },
        "J2735NodeLLDelta": {
            "type": "object",
            "properties": {
                "lat": {
                    "type": "number"
                },
                "lon": {
                    "type": "number"
                }
            },
            "required": [
                "lon",
                "lat"
            ]
        },
        "J2735GeometricProjection": {
            "type": "object",
            "properties": {
                "direction": {
                    "type": "string"
                },
                "extent": {
                    "type": "string"
                },
                "laneWidth": {
                    "type": "string"
                },
                "circle": {
                    "type": "object",
                    "properties": {
                        "center": {
                            "$ref": "#/$defs/J2735Position3D"
                        },
                        "radius": {
                            "type": "string"
                        },
                        "units": {
                            "$ref": "#/$defs/J2735DistanceUnits"
                        }
                    },
                    "required": [
                        "center",
                        "radius",
                        "units"
                    ]
                }
            },
            "required": [
                "direction",
                "circle"
            ]
        },
        "J2735DF_Content": {
            "oneOf": [
                {
                    "type": "object",
                    "properties": {
                        "advisory": {
                            "$ref": "#/$defs/J2735DF_ContentSequence"
                        }
                    },
                    "required": [
                        "advisory"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "workZone": {
                            "$ref": "#/$defs/J2735DF_ContentSequence"
                        }
                    },
                    "required": [
                        "workZone"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "genericSign": {
                            "$ref": "#/$defs/J2735DF_ContentSequence"
                        }
                    },
                    "required": [
                        "genericSign"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "speedLimit": {
                            "$ref": "#/$defs/J2735DF_ContentSequence"
                        }
                    },
                    "required": [
                        "speedLimit"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "exitService": {
                            "$ref": "#/$defs/J2735DF_ContentSequence"
                        }
                    },
                    "required": [
                        "exitService"
                    ]
                }
            ]
        },
        "J2735DF_ContentSequence": {
            "oneOf": [
                {
                    "type": "object",
                    "properties": {
                        "SEQUENCE": {
                            "type": "array",
                            "prefixItems": [
                                {
                                    "$ref": "#/$defs/J2735DF_ContentSequenceItem"
                                }
                            ]
                        }
                    },
                    "required": [
                        "SEQUENCE"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "SEQUENCE": {
                            "$ref": "#/$defs/J2735DF_ContentSequenceItem"
                        }
                    },
                    "required": [
                        "SEQUENCE"
                    ]
                }
            ]
        },
        "J2735DF_ContentSequenceItem": {
            "type": "object",
            "properties": {
                "item": {
                    "type": "object",
                    "properties": {
                        "itis": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "itis"
                    ]
                }
            },
            "required": [
                "item"
            ]
        },
        "J2735Position3D": {
            "type": "object",
            "properties": {
                "lat": {
                    "type": "string"
                },
                "long": {
                    "type": "string"
                },
                "elevation": {
                    "type": [
                        "string",
                        "null"
                    ]
                }
            },
            "required": [
                "lat",
                "long"
            ]
        },
        "OdePosition3D": {
            "type": "object",
            "properties": {
                "latitude": {
                    "type": "number"
                },
                "longitude": {
                    "type": "number"
                },
                "elevation": {
                    "type": "number"
                }
            },
            "required": [
                "latitude",
                "longitude"
            ]
        },
        "J2735RoadSegmentReferenceID": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "number"
                },
                "region": {
                    "type": "number"
                }
            },
            "required": [
                "id"
            ]
        },
        "J2735DistanceUnits": {
            "oneOf": [
                {
                    "type": "object",
                    "properties": {
                        "centimeter": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "centimeter"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "cm2-5": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "cm2-5"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "decimeter": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "decimeter"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "meter": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "meter"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "kilometer": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "kilometer"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "foot": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "foot"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "yard": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "yard"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "mile": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "mile"
                    ]
                }
            ]
        }
    }
}