jobs:
  build:
    # Pull docker image 
    # XTERM used for better make output
    docker:
      - image: circleci/openjdk:9.0.4-jdk-sid
        environment:
          TERM: xterm
          
    # Set working directory
    # working_directory: "/home/jpo-ode"
    # Pull code and execute tests |
    # Name of each run command defines purpose use
    steps:
      #setup remote docker
      - setup_remote_docker :
          docker_layer_caching: false
      # Checkout PR branch
      - checkout:
      - run: 
          name: Run Maven Clean Package with Jacoco
          command: |
            mvn -e clean org.jacoco:jacoco-maven-plugin:prepare-agent package sonar:sonar
